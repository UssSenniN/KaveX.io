<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Calculadora de Cerâmica e Porcelanato</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 800px; margin: auto; padding: 20px; }
    h2 { color: #444; }
    input, select, button { margin: 8px 0; padding: 8px; width: 100%; }
    .resultado { background-color: #f0f0f0; padding: 12px; margin-top: 20px; font-weight: bold; }
  </style>
</head>
<body>
  <h2>Calculadora de Revestimento</h2>
  
  <label>ID:</label>
  <input type="text" id="idProduto">

  <label>Área Total (m²):</label>
  <input type="number" id="areaTotal">

  <label>Área por Caixa (m²):</label>
  <input type="number" id="areaPorCaixa">

  <label>Valor por m² (R$):</label>
  <input type="number" id="valorM2">

  <label>Margem de Sobra (%):</label>
  <input type="number" id="margem">

  <button onclick="calcular()">Calcular</button>

  <div class="resultado" id="resultados"></div>

  <h3>Escolha o Tipo de Rejunte:</h3>
  <label><input type="radio" name="rejunte" value="ceramica" checked> Cerâmica</label>
  <label><input type="radio" name="rejunte" value="porcelanato"> Porcelanato</label>

  <h3>Parcelamento:</h3>
  <div class="resultado" id="parcelamento"></div>

  <script>
    function arredondar(valor) {
      return (valor % 1 >= 0.5) ? Math.ceil(valor) : Math.floor(valor);
    }

    function calcular() {
      const areaTotal = parseFloat(document.getElementById('areaTotal').value);
      const areaPorCaixa = parseFloat(document.getElementById('areaPorCaixa').value);
      const valorM2 = parseFloat(document.getElementById('valorM2').value);
      const margem = parseFloat(document.getElementById('margem').value);

      const areaComSobra = areaTotal + (areaTotal * (margem / 100));
      const caixas = Math.ceil(areaComSobra / areaPorCaixa);
      const valorTotal = areaComSobra * valorM2;

      const argamassaPorM2 = areaTotal > 50 ? 3 : 3.5;
      const quantidadeArgamassa = Math.ceil(areaComSobra / argamassaPorM2);
      const tipoRejunte = document.querySelector('input[name="rejunte"]:checked').value;

      let quantidadeRejunte = areaComSobra * 0.15;
      quantidadeRejunte = (tipoRejunte === 'ceramica') ? arredondar(quantidadeRejunte) : Math.round(quantidadeRejunte);

      document.getElementById('resultados').innerHTML = `
        <p>Caixas necessárias: <strong>${caixas}</strong></p>
        <p>Área com margem: <strong>${areaComSobra.toFixed(2)} m²</strong></p>
        <p>Valor total do revestimento: <strong>R$ ${valorTotal.toFixed(2)}</strong></p>
        <p>Quantidade de argamassa: <strong>${quantidadeArgamassa} sacos</strong></p>
        <p>Quantidade de rejunte (${tipoRejunte}): <strong>${quantidadeRejunte} unidades</strong></p>
      `;

      // Parcelamento
      const parcelDiv = document.getElementById('parcelamento');
      if (valorTotal < 400) {
        const parcelas = Math.ceil(valorTotal / 40);
        parcelDiv.innerHTML = `Parcelamento: ${parcelas}x de R$ ${(valorTotal / parcelas).toFixed(2)} (mínimo R$ 40,00)`;
      } else {
        const valorParcela = (valorTotal / 10).toFixed(2);
        parcelDiv.innerHTML = `Parcelamento: até 10x de R$ ${valorParcela} sem juros`;
      }
    }
  </script>
</body>
</html>